---
import { Image } from "astro:assets";

interface Props {
  backHref: string;
  title: string;
  date?: string;
  author?: string;
  leadTitle?: string;
  leadText?: string;
  image?: any;
  imageAlt?: string;
  Content: any;
}

const {
  backHref,
  title,
  date,
  author,
  leadTitle,
  leadText,
  image,
  imageAlt,
  Content,
} = Astro.props;
---

<section class="py-16">
  <div class="max-w-7xl mx-auto px-4 lg:px-6">

   
    <a
      href={backHref}
      class="text-sm font-medium text-gray-600 hover:text-gray-900 mb-6 inline-block"
    >
      ← Retour
    </a>

    
    <div class="bg-white rounded-2xl shadow-md p-4 sm:p-6 md:p-10">

     
      <h1 class="text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 mb-4 sm:mb-6">
        {title}
      </h1>
      {(author || date) && (
        <div class="bg-gray-100 border border-gray-200 p-3 sm:p-4 mb-6 text-xs sm:text-sm text-gray-700 rounded-md">
          {author && <p class="font-semibold">{author}</p>}
          {date && <p>Publié le {date}</p>}
        </div>
      )}

      {(leadTitle || leadText) && (
        <div class="text-gray-700 leading-relaxed text-sm sm:text-base md:text-lg mb-6">
          {leadTitle && (
            <p class="font-bold text-base sm:text-lg mb-2 sm:mb-3">
              {leadTitle}
            </p>
          )}
          {leadText && <p>{leadText}</p>}
        </div>
      )}
      {image && (
        <figure class="my-6 sm:my-8">
          <div class="w-full overflow-hidden rounded-lg">
            <Image
              src={image}
              alt={imageAlt ?? title}
              class="w-full h-auto max-h-[220px] sm:max-h-[360px] md:max-h-[500px] object-cover"
              loading="lazy"
            />
          </div>
        </figure>
      )}
      <article
        class="
          prose prose-sm sm:prose-base md:prose-lg prose-gray max-w-none
          prose-headings:font-bold prose-headings:text-gray-900
          prose-h2:text-xl sm:prose-h2:text-2xl prose-h2:mt-10 prose-h2:mb-4
          prose-h3:text-lg sm:prose-h3:text-xl prose-h3:mt-8 prose-h3:mb-3
          prose-p:text-gray-700 prose-p:leading-relaxed
          prose-ul:list-disc prose-ul:ml-5 sm:prose-ul:ml-6
          prose-li:text-gray-700 prose-li:mb-2 prose-li:break-words
          prose-a:text-blue-600 prose-a:underline hover:prose-a:text-blue-800
          prose-strong:text-gray-900 prose-strong:font-semibold
          prose-img:block prose-img:w-full prose-img:h-auto prose-img:mx-auto
          prose-img:rounded-lg prose-img:shadow-md
          prose-img:my-6 sm:prose-img:my-8
        "
      >
        <Content />
      </article>

    </div>
  </div>
</section>
