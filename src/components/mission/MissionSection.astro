---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

type Props = {
  text: string;
  image: ImageMetadata;
  alt: string;
  layout?: "textLeft" | "imageLeft";
};

const {
  text,
  image,
  alt,
  layout = "textLeft",
} = Astro.props;

// Ordre uniquement sur desktop
const imageOrder = layout === "imageLeft" ? "lg:order-1" : "lg:order-2";
const textOrder  = layout === "imageLeft" ? "lg:order-2" : "lg:order-1";
---

<section
  class="
    grid
    grid-cols-1
    lg:grid-cols-2
    items-center
    gap-8 sm:gap-10 lg:gap-12
    mb-10 sm:mb-12 lg:mb-16
  "
>
  <!-- IMAGE -->
  <div
    class={`
      relative
      w-full
      aspect-[16/9]
      rounded-lg
      overflow-hidden
      shadow
      ${imageOrder}
    `}
  >
    <Image
      src={image}
      alt={alt}
      class="w-full h-full object-cover"
      loading="lazy"
      widths={[640, 960, 1280]}
      sizes="(min-width: 1024px) 50vw, 100vw"
    />
  </div>
  <div
    class={`
      text-gray-700
      leading-relaxed
      text-base sm:text-lg
      ${textOrder}
    `}
  >
    <p>{text}</p>
  </div>
</section>
