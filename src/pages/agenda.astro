---
import Layout from "../layouts/Layout.astro";
import CalendarDropdown from "../components/CalendarDropdown.tsx";

const events = [
  {
    month: "AVR",
    day: "21",
    year: "2024",
    datetime: "avril 21, 2024 @ 4:00 pm - 6:30 pm",
    title: "Musica Mundo Series",
    location: "Théâtre De Lieve Vrouw Lieve Vrouwestraat 13, Amersfoort",
    description: "Hamid Bouchnak & L'orchestre Andalou d'Amsterdam La star marocaine et l'orchestre donnent une nouvelle dimension à la musique andalouse et au raï...",
    image: "/images/events/event1.jpg",
    href: "/agenda/musica-mundo",
  },
  {
    month: "MAR",
    day: "14",
    year: "2024",
    datetime: "mars 14, 2024 @ 12:00 pm - 1:15 pm",
    title: "Architecture en mutation: Réinventer l'approche opérationnelle",
    location: "Sfeir Lille 74 Rue des Arts, Lille",
    description: "Détails En mars, nous avons le plaisir d'accueillir deux speakers ! Et comme d'habitude, même endroit, même heure !...",
    image: "/images/events/event2.jpg",
    href: "/agenda/architecture-mutation",
  },
  {
    month: "MAR",
    day: "9",
    year: "2024",
    datetime: "mars 9, 2024 @ 5:00 pm - 7:00 pm",
    title: "Dia Internacional De La Dona",
    location: "Museo de Gavà - Torre Lluch Plaça de Dolors Clua, 13, Gavà",
    description: "Celebrem i reconeixem el paper essencial de les dones en la construcció d'una societat igualitària...",
    image: "/images/events/event3.jpg",
    href: "/agenda/dia-internacional",
  },
];
---

<Layout title="MDN23 – Agenda">
  <main class="bg-white min-h-screen">
    <!-- Barre de recherche et onglets -->
    <div class="border-b border-gray-200">
      <div class="max-w-6xl mx-auto px-4 py-4 flex flex-wrap items-center justify-between gap-4">
        <div class="flex items-center gap-2">
          <input
            type="text"
            placeholder="Rechercher évènements"
            class="border border-gray-300 rounded px-3 py-2 text-sm w-64 focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
          <button
            class="px-4 py-2 text-sm font-medium text-white rounded"
            style="background-color: #4f46e5;"
          >
            Chercher
          </button>
        </div>
        <div class="flex items-center gap-4 text-sm text-gray-600">
          <a href="#" class="hover:text-gray-900">Liste</a>
          <a href="#" class="hover:text-gray-900">Mois</a>
          <a href="#" class="hover:text-gray-900">Jour</a>
        </div>
      </div>
    </div>

    <!-- Navigation calendrier avec dropdown -->
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center gap-4 text-sm">
      <button class="text-gray-500 hover:text-gray-900">&lt;</button>
      <button class="text-gray-500 hover:text-gray-900">&gt;</button>
      <button class="border border-gray-300 rounded px-3 py-1 text-gray-700 hover:bg-gray-50">
        Aujourd'hui
      </button>
      <!-- Calendrier dropdown React -->
      <CalendarDropdown client:load />
    </div>

    <!-- Message "pas d'évènements" -->
    <div class="max-w-6xl mx-auto px-4">
      <div class="bg-gray-100 border-t-4 border-blue-600 py-3 px-4 text-sm text-gray-600 text-center">
        Il n'y a pas d'évènements à venir.
      </div>
    </div>

    <!-- Section Derniers Évènements passés -->
    <section class="max-w-6xl mx-auto px-4 py-10">
      <h2 class="text-2xl font-bold text-gray-900 mb-8">
        Derniers Évènements passés
      </h2>

      <div class="space-y-8">
        {events.map((event) => (
          <article class="grid grid-cols-1 md:grid-cols-[80px_1fr_280px] gap-6 border-t border-gray-200 pt-8">
            <div class="text-center md:text-left">
              <p class="text-xs uppercase text-blue-700 font-medium">{event.month}</p>
              <p class="text-3xl font-bold text-gray-900">{event.day}</p>
              <p class="text-xs text-gray-500">{event.year}</p>
            </div>
            <div>
              <p class="text-sm text-gray-500 mb-1">{event.datetime}</p>
              <a href={event.href} class="text-lg font-bold text-gray-900 hover:text-blue-700 block mb-2">
                {event.title}
              </a>
              <p class="text-sm text-gray-600 mb-3">{event.location}</p>
              <p class="text-sm text-gray-600 leading-relaxed">{event.description}</p>
            </div>
            <div class="hidden md:block">
              <img src={event.image} alt={event.title} class="w-full h-44 object-cover rounded" loading="lazy" />
            </div>
          </article>
        ))}
      </div>
    </section>
  </main>
</Layout>
