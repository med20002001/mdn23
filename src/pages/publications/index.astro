---
import Layout from "../../layouts/Layout.astro";
import { getEntry } from "astro:content";
import { Image } from "astro:assets";

const publication = await getEntry("publications", "oral-culture");

if (!publication) {
  throw new Error("Publication introuvable : oral-culture");
}
---

<Layout title="Publications">
  <section class=" py-14 sm:py-20">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="bg-white rounded-2xl shadow-md p-6 sm:p-10 lg:p-14">

        <header class="mb-16 max-w-3xl">
          <h1 class="mt-2 text-3xl sm:text-4xl lg:text-5xl font-extrabold text-gray-900">
            Publications
          </h1>

          <div
            class="h-1 w-20 rounded-full mb-6
                   bg-gradient-to-r from-red-500/40 to-green-500/40"
          ></div>
        </header>

        <article class="max-w-lg">
          {publication.data.cover && (
            <Image
              src={publication.data.cover}
              alt={publication.data.coverAlt ?? publication.data.title}
              class="w-full h-auto object-cover rounded-xl"
              loading="lazy"
            />
          )}

          <a
            href={`/publications/${publication.slug}`}
            class="mt-6 block text-base sm:text-lg font-semibold text-gray-900 underline underline-offset-4 text-center"
          >
            {publication.data.title}
          </a>

          <a
            href={`/publications/${publication.slug}`}
            class="mt-8 inline-flex items-center justify-center w-full rounded-full text-white text-base font-medium py-3.5 transition-colors bg-[#00d27f] hover:opacity-90"
          >
            Lire l'article
          </a>
        </article>

      </div>
    </div>
  </section>
</Layout>
